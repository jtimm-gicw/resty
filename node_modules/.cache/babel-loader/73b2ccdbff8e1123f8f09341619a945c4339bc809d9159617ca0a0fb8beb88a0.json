{"ast":null,"code":"var _jsxFileName = \"/home/jtimm/projects/courses/401/resty/src/app.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './app.scss';\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // State for request details, data, loading, and history\n  const [request, setRequest] = useState({});\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [history, setHistory] = useState([]);\n\n  // Function passed down to <Form /> that updates request state\n  const callApi = requestParams => {\n    setRequest(requestParams);\n    setLoading(true);\n\n    // Add request to history (for later use)\n    setHistory(prev => [...prev, {\n      method: requestParams.method,\n      url: requestParams.url\n    }]);\n  };\n\n  // Whenever request changes, actually make the API call\n  useEffect(() => {\n    const fetchData = async () => {\n      if (request.method && request.url) {\n        try {\n          const options = {\n            method: request.method,\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          };\n\n          // Only include body if user provided one\n          if (request.body && (request.method === \"POST\" || request.method === \"PUT\")) {\n            options.body = JSON.stringify(request.body);\n          }\n          const response = await fetch(request.url, options);\n          const json = await response.json();\n          setData(json);\n        } catch (err) {\n          setData({\n            error: \"Something went wrong\",\n            details: err.message\n          });\n        } finally {\n          setLoading(false);\n        }\n      }\n    };\n    fetchData();\n  }, [request]);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Request Method: \", request.method]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"URL: \", request.url]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      handleApiCall: callApi\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Results, {\n      data: data,\n      loading: loading,\n      history: history\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"HiWXnBIliHCP3Re/9siW6Nuz4hw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Header","Footer","Form","Results","jsxDEV","_jsxDEV","App","_s","request","setRequest","data","setData","loading","setLoading","history","setHistory","callApi","requestParams","prev","method","url","fetchData","options","headers","body","JSON","stringify","response","fetch","json","err","error","details","message","Fragment","children","fileName","_jsxFileName","lineNumber","columnNumber","handleApiCall","_c","$RefreshReg$"],"sources":["/home/jtimm/projects/courses/401/resty/src/app.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'; \nimport './app.scss';\n\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\n\nfunction App() {\n  // State for request details, data, loading, and history\n  const [request, setRequest] = useState({});\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [history, setHistory] = useState([]);\n\n  // Function passed down to <Form /> that updates request state\n  const callApi = (requestParams) => {\n    setRequest(requestParams);\n    setLoading(true);\n\n    // Add request to history (for later use)\n    setHistory((prev) => [\n      ...prev,\n      { method: requestParams.method, url: requestParams.url }\n    ]);\n  };\n\n  // Whenever request changes, actually make the API call\n  useEffect(() => {\n    const fetchData = async () => {\n      if (request.method && request.url) {\n        try {\n          const options = {\n            method: request.method,\n            headers: { \"Content-Type\": \"application/json\" },\n          };\n\n          // Only include body if user provided one\n          if (request.body && (request.method === \"POST\" || request.method === \"PUT\")) {\n            options.body = JSON.stringify(request.body);\n          }\n\n          const response = await fetch(request.url, options);\n          const json = await response.json();\n\n          setData(json);\n        } catch (err) {\n          setData({ error: \"Something went wrong\", details: err.message });\n        } finally {\n          setLoading(false);\n        }\n      }\n    };\n\n    fetchData();\n  }, [request]);\n\n  return (\n    <React.Fragment>\n      <Header />\n      <div>Request Method: {request.method}</div>\n      <div>URL: {request.url}</div>\n\n      {/* Pass callApi to Form so user can submit API details */}\n      <Form handleApiCall={callApi} />\n\n      {/* Display results */}\n      <Results data={data} loading={loading} history={history} />\n\n      <Footer />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}