{"ast":null,"code":"var _jsxFileName = \"/home/jtimm/projects/courses/401/resty/src/app.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport './app.scss';\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport History from './components/history'; // ðŸ‘ˆ keeps track of past calls\n\n// --- 1. Initial state for reducer ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  data: null,\n  // holds the API response\n  request: {},\n  // holds the current request (url, method, body)\n  loading: false,\n  // true while API request is running\n  history: [] // saves past requests + responses\n};\n\n// --- 2. Reducer function to handle state updates ---\nconst reducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case 'START_REQUEST':\n      // when Form submits a request, save it + set loading true\n      return {\n        ...state,\n        request: payload,\n        loading: true\n      };\n    case 'FINISH_REQUEST':\n      // when API returns, stop loading, save data + push into history\n      return {\n        ...state,\n        loading: false,\n        data: payload,\n        history: [...state.history, {\n          request: state.request,\n          data: payload\n        }]\n      };\n    case 'SHOW_HISTORY':\n      // when user clicks a past request, load its data into state\n      return {\n        ...state,\n        loading: 'history',\n        data: payload.data,\n        request: payload.request\n      };\n    default:\n      return state;\n  }\n};\nfunction App() {\n  _s();\n  // --- 3. useReducer replaces multiple useState hooks ---\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const {\n    request,\n    data,\n    loading,\n    history\n  } = state; // easier access\n\n  // --- 4. Triggered when Form submits ---\n  const callApi = requestParams => {\n    // payload includes: { method, url, body }\n    dispatch({\n      type: 'START_REQUEST',\n      payload: requestParams\n    });\n  };\n\n  // --- 5. Triggered when user clicks a history entry ---\n  const showHistoryData = entry => {\n    dispatch({\n      type: 'SHOW_HISTORY',\n      payload: entry\n    });\n  };\n\n  // --- 6. useEffect runs API calls whenever request changes ---\n  useEffect(() => {\n    const fetchData = async () => {\n      // only run if loading is true and request has method + url\n      if (loading === true && request.method && request.url) {\n        try {\n          const response = await axios({\n            method: request.method,\n            url: request.url,\n            data: request.body || {} // ðŸ‘ˆ include body if present\n          });\n\n          // save successful response\n          dispatch({\n            type: 'FINISH_REQUEST',\n            payload: response.data\n          });\n        } catch (error) {\n          // save error as data (so Results can display it)\n          console.error(\"API call failed:\", error);\n          dispatch({\n            type: 'FINISH_REQUEST',\n            payload: {\n              error: error.message\n            }\n          });\n        }\n      }\n    };\n    fetchData();\n  }, [request, loading]);\n  // ðŸ‘† only re-run when request or loading changes\n\n  // --- 7. What gets rendered on the page ---\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Request Method: \", request.method]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"URL: \", request.url]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      handleApiCall: callApi\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Results, {\n      data: data,\n      loading: loading,\n      history: history\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useReducer","useEffect","axios","Header","Footer","Form","Results","History","jsxDEV","_jsxDEV","initialState","data","request","loading","history","reducer","state","action","type","payload","App","_s","dispatch","callApi","requestParams","showHistoryData","entry","fetchData","method","url","response","body","error","console","message","Fragment","children","fileName","_jsxFileName","lineNumber","columnNumber","handleApiCall","_c","$RefreshReg$"],"sources":["/home/jtimm/projects/courses/401/resty/src/app.js"],"sourcesContent":["import React, { useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport './app.scss';\n\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport History from './components/history'; // ðŸ‘ˆ keeps track of past calls\n\n// --- 1. Initial state for reducer ---\nconst initialState = {\n  data: null,       // holds the API response\n  request: {},      // holds the current request (url, method, body)\n  loading: false,   // true while API request is running\n  history: [],      // saves past requests + responses\n};\n\n// --- 2. Reducer function to handle state updates ---\nconst reducer = (state, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case 'START_REQUEST': \n      // when Form submits a request, save it + set loading true\n      return {\n        ...state,\n        request: payload,\n        loading: true,\n      };\n\n    case 'FINISH_REQUEST': \n      // when API returns, stop loading, save data + push into history\n      return {\n        ...state,\n        loading: false,\n        data: payload,\n        history: [...state.history, { request: state.request, data: payload }],\n      };\n\n    case 'SHOW_HISTORY': \n      // when user clicks a past request, load its data into state\n      return {\n        ...state,\n        loading: 'history',\n        data: payload.data,\n        request: payload.request,\n      };\n\n    default:\n      return state;\n  }\n};\n\nfunction App() {\n  // --- 3. useReducer replaces multiple useState hooks ---\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { request, data, loading, history } = state; // easier access\n\n  // --- 4. Triggered when Form submits ---\n  const callApi = (requestParams) => {\n    // payload includes: { method, url, body }\n    dispatch({ type: 'START_REQUEST', payload: requestParams });\n  };\n\n  // --- 5. Triggered when user clicks a history entry ---\n  const showHistoryData = (entry) => {\n    dispatch({ type: 'SHOW_HISTORY', payload: entry });\n  };\n\n  // --- 6. useEffect runs API calls whenever request changes ---\n  useEffect(() => {\n    const fetchData = async () => {\n      // only run if loading is true and request has method + url\n      if (loading === true && request.method && request.url) {\n        try {\n          const response = await axios({\n            method: request.method,\n            url: request.url,\n            data: request.body || {}, // ðŸ‘ˆ include body if present\n          });\n\n          // save successful response\n          dispatch({ type: 'FINISH_REQUEST', payload: response.data });\n\n        } catch (error) {\n          // save error as data (so Results can display it)\n          console.error(\"API call failed:\", error);\n          dispatch({ type: 'FINISH_REQUEST', payload: { error: error.message } });\n        }\n      }\n    };\n\n    fetchData();\n  }, [request, loading]); \n  // ðŸ‘† only re-run when request or loading changes\n\n  // --- 7. What gets rendered on the page ---\n  return (\n    <React.Fragment>\n      <Header />\n\n      {/* show current request */}\n      <div>Request Method: {request.method}</div>\n      <div>URL: {request.url}</div>\n\n      {/* Pass callback into Form so it can call API */}\n      <Form handleApiCall={callApi} />\n\n      {/* Results component shows the API data prettified */}\n      <Results data={data} loading={loading} history={history} />\n\n      {/* History shows clickable past requests\n      <History history={history} showHistory={showHistoryData} /> */}\n\n      <Footer />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}