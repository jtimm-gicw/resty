{"ast":null,"code":"var _jsxFileName = \"/home/jtimm/projects/courses/401/resty/src/app.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport './app.scss';\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport History from './components/history'; // ðŸ‘ˆ assuming you have this\n\n// Initial state for the reducer\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  data: null,\n  // stores API response\n  request: {},\n  // stores current request details (method + URL)\n  loading: false,\n  // true while request is in progress\n  history: [] // record of past requests + responses\n};\n\n// Reducer to handle actions\nconst reducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case 'START_REQUEST':\n      return {\n        ...state,\n        request: payload,\n        loading: true\n      };\n    case 'FINISH_REQUEST':\n      return {\n        ...state,\n        loading: false,\n        data: payload,\n        history: [...state.history, {\n          request: state.request,\n          data: payload\n        }]\n      };\n    case 'SHOW_HISTORY':\n      return {\n        ...state,\n        loading: 'history',\n        data: payload.data,\n        request: payload.request\n      };\n    default:\n      return state;\n  }\n};\nfunction App() {\n  _s();\n  // useReducer replaces multiple useState calls\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const {\n    request,\n    data,\n    loading,\n    history\n  } = state; // ðŸ‘ˆ easier access\n\n  // Triggered when Form submits a new request\n  const callApi = requestParams => {\n    dispatch({\n      type: 'START_REQUEST',\n      payload: requestParams\n    });\n  };\n\n  // Triggered when clicking a history entry\n  const showHistoryData = entry => {\n    dispatch({\n      type: 'SHOW_HISTORY',\n      payload: entry\n    });\n  };\n\n  // Side effect â†’ runs when request changes\n  useEffect(() => {\n    const fetchData = async () => {\n      if (loading === true && request.method && request.url) {\n        try {\n          const response = await axios({\n            method: request.method,\n            url: request.url\n          });\n          dispatch({\n            type: 'FINISH_REQUEST',\n            payload: response.data\n          });\n        } catch (error) {\n          console.error(\"API call failed:\", error);\n          dispatch({\n            type: 'FINISH_REQUEST',\n            payload: {\n              error: error.message\n            }\n          });\n        }\n      }\n    };\n    fetchData();\n  }, [request, loading]); // ðŸ‘ˆ runs whenever request or loading changes\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Request Method: \", request.method]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"URL: \", request.url]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      handleApiCall: callApi\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Results, {\n      data: data,\n      loading: loading,\n      history: history\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(History, {\n      history: history,\n      showHistory: showHistoryData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useReducer","useEffect","axios","Header","Footer","Form","Results","History","jsxDEV","_jsxDEV","initialState","data","request","loading","history","reducer","state","action","type","payload","App","_s","dispatch","callApi","requestParams","showHistoryData","entry","fetchData","method","url","response","error","console","message","Fragment","children","fileName","_jsxFileName","lineNumber","columnNumber","handleApiCall","showHistory","_c","$RefreshReg$"],"sources":["/home/jtimm/projects/courses/401/resty/src/app.js"],"sourcesContent":["import React, { useReducer, useEffect } from 'react';\nimport axios from 'axios';\n\nimport './app.scss';\n\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport History from './components/history'; // ðŸ‘ˆ assuming you have this\n\n// Initial state for the reducer\nconst initialState = {\n  data: null,      // stores API response\n  request: {},     // stores current request details (method + URL)\n  loading: false,  // true while request is in progress\n  history: [],     // record of past requests + responses\n};\n\n// Reducer to handle actions\nconst reducer = (state, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case 'START_REQUEST':\n      return { ...state, request: payload, loading: true };\n\n    case 'FINISH_REQUEST':\n      return {\n        ...state,\n        loading: false,\n        data: payload,\n        history: [...state.history, { request: state.request, data: payload }],\n      };\n\n    case 'SHOW_HISTORY':\n      return {\n        ...state,\n        loading: 'history',\n        data: payload.data,\n        request: payload.request,\n      };\n\n    default:\n      return state;\n  }\n};\n\nfunction App() {\n  // useReducer replaces multiple useState calls\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { request, data, loading, history } = state; // ðŸ‘ˆ easier access\n\n  // Triggered when Form submits a new request\n  const callApi = (requestParams) => {\n    dispatch({ type: 'START_REQUEST', payload: requestParams });\n  };\n\n  // Triggered when clicking a history entry\n  const showHistoryData = (entry) => {\n    dispatch({ type: 'SHOW_HISTORY', payload: entry });\n  };\n\n  // Side effect â†’ runs when request changes\n  useEffect(() => {\n    const fetchData = async () => {\n      if (loading === true && request.method && request.url) {\n        try {\n          const response = await axios({\n            method: request.method,\n            url: request.url,\n          });\n\n          dispatch({ type: 'FINISH_REQUEST', payload: response.data });\n        } catch (error) {\n          console.error(\"API call failed:\", error);\n          dispatch({ type: 'FINISH_REQUEST', payload: { error: error.message } });\n        }\n      }\n    };\n\n    fetchData();\n  }, [request, loading]); // ðŸ‘ˆ runs whenever request or loading changes\n\n  return (\n    <React.Fragment>\n      <Header />\n\n      {/* Show current request */}\n      <div>Request Method: {request.method}</div>\n      <div>URL: {request.url}</div>\n\n      {/* Pass callback to Form */}\n      <Form handleApiCall={callApi} />\n\n      {/* Show API results */}\n      <Results data={data} loading={loading} history={history} />\n\n      {/* Show clickable history */}\n      <History history={history} showHistory={showHistoryData} />\n\n      <Footer />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}